<div class="container">
  <div class="content">
    <div class="inner">
      <h1>Willkommen {{ user }}</h1>
      <div>
        <mat-card appearance="outlined">
          <mat-card-header
            ><mat-card-title
              >Deine kommenden Termine</mat-card-title
            ></mat-card-header
          >
          <mat-card-content><p>keine</p></mat-card-content>
          <mat-card-actions align="end">
            <button mat-button>weitere</button>
          </mat-card-actions>
        </mat-card>
        <mat-card appearance="outlined">
          <mat-card-header
            ><mat-card-title>Termin-Details</mat-card-title></mat-card-header
          >
          <mat-card-content><p>keine</p></mat-card-content>
          <mat-card-actions align="end">
            <button mat-button>bearbeiten</button>
          </mat-card-actions>
        </mat-card>
      </div>
      <div class="guiding-text">
        <span>Deine Planung</span>@if (activeMode() === 0) {<button
          mat-flat-button
          color="primary"
        >
          Info</button
        >} @else {<button mat-stroked-button (click)="setActiveMode(0)">
          Info</button
        >} @if (activeMode() === 1) {<button mat-flat-button color="primary">
          Tage auswählen</button
        >} @else {<button mat-stroked-button (click)="setActiveMode(1)">
          Tage auswählen</button
        >} @if (activeMode() === 2) {<button mat-flat-button color="primary">
          Zeiten bearbeiten</button
        >} @else {<button mat-stroked-button (click)="setActiveMode(2)">
          Zeiten bearbeiten</button
        >}
      </div>
      @if (activeMode() === 0) {
      <div class="dates-info-container">
        <app-dates-info></app-dates-info>
      </div>
      } @if (activeMode() === 1) {
      <div class="month-card-container">
        @for (month of monthsToDisplay; track $index) {
        <div>
          <app-month-display [inputMonth]="month"></app-month-display
          ><button
            mat-fab
            color="primary"
            (click)="addMonth()"
            aria-label="button with an add icon"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
        }
      </div>
      } @if (activeMode() === 2) {
      <div class="timeslot-outer">
        <div class="timeslot-card-container">
          @for (month of monthsToDisplay; track $index) {
          <div>
            <app-choose-timeslots [inputMonth]="month"></app-choose-timeslots>
          </div>
          }
        </div>
        <div class="controls-container">
          <div><button mat-stroked-button>Alle auswählen</button></div>
          <div class="weekday-row">
            <span>Nach Wochentag auswählen</span>
            <div>
              <button
                mat-flat-button
                *ngIf="dayToggledOn['mo'] === true"
                (click)="toggleWeekday('mo')"
                color="primary"
              >
                Mon
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['mo'] === false"
                (click)="toggleWeekday('mo')"
              >
                Mon
              </button>
              <button
                mat-flat-button
                *ngIf="dayToggledOn['di'] === true"
                (click)="toggleWeekday('di')"
                color="primary"
              >
                Die
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['di'] === false"
                (click)="toggleWeekday('di')"
              >
                Die</button
              ><button
                mat-flat-button
                *ngIf="dayToggledOn['mi'] === true"
                (click)="toggleWeekday('mi')"
                color="primary"
              >
                Mit
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['mi'] === false"
                (click)="toggleWeekday('mi')"
              >
                Mit</button
              ><button
                mat-flat-button
                *ngIf="dayToggledOn['do'] === true"
                (click)="toggleWeekday('do')"
                color="primary"
              >
                Don
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['do'] === false"
                (click)="toggleWeekday('do')"
              >
                Don</button
              ><button
                mat-flat-button
                *ngIf="dayToggledOn['fr'] === true"
                (click)="toggleWeekday('fr')"
                color="primary"
              >
                Fre
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['fr'] === false"
                (click)="toggleWeekday('fr')"
              >
                Fre</button
              ><button
                mat-flat-button
                *ngIf="dayToggledOn['sa'] === true"
                (click)="toggleWeekday('sa')"
                color="primary"
              >
                Sam
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['sa'] === false"
                (click)="toggleWeekday('sa')"
              >
                Sam</button
              ><button
                mat-flat-button
                *ngIf="dayToggledOn['so'] === true"
                (click)="toggleWeekday('so')"
                color="primary"
              >
                Son
              </button>
              <button
                mat-stroked-button
                *ngIf="dayToggledOn['so'] === false"
                (click)="toggleWeekday('so')"
              >
                Son
              </button>
            </div>
          </div>
          <div class="edit-row">
            <button mat-fab extended>
              <mat-icon>edit</mat-icon>bearbeiten
            </button>
            <button mat-button>Auswahl löschen</button>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>
